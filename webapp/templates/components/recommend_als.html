<div class="mx-auto max-w-3xl py-12 lg:max-w-[1400px] lg:px-8">
{% if recommend_books_als is not none %}
    <h1 class="text-lg font-bold pb-4">Inspired by your taste</h1>
    <div class="flex flex-row items-center justify-center space-x-4 overflow-hidden w-full">
        <button onclick="scrollcarousel3(-5)"
                class="hidden sm:block bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none">
            &#8592;
        </button>

        <div id="carousel3"
             class="flex flex-row space-x-1 gap-12 md:gap-0 overflow-x-auto lg:overflow-x-hidden scroll-smooth">
            {% for book in recommend_books_als %}
                <div class="flex-none w-1/3 md:w-1/5 ">
                    <a href="{{ url_for('home.book', isbn=book.isbn) }}" class="group">
                        <div class="rounded-md bg-slate-100 w-52 h-64">
                            <img src="{{ book.img }}" alt="image"
                                 class="relative z-10 object-contain w-full h-full object-center pt-2 px-2 md:pt-6">
                        </div>
                        <h3 class="mt-4 text-base text-cyan-700 hover:underline hover:text-cyan-900 hover:cursor-pointer line-clamp-2">{{ book.title }}</h3>
                        <p class="mt-1 text-sm font-medium text-gray-900">by <i>{{ book.author }}</i></p>
                        <p class="mt-1 text-base font-medium text-gray-950">{{ book.price }}</p>
                    </a>
                </div>
            {% endfor %}
        </div>
        <style>
            ::-webkit-scrollbar {
                height: 4px; /* height of horizontal scrollbar ‚Üê You're missing this */
                width: 4px; /* width of vertical scrollbar */
                border: 1px solid #7b7b7b;
            }
        </style>
        <button onclick="scrollcarousel3(5)"
                class="hidden sm:block bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none">
            &#8594;
        </button>
    </div>
{% else %}
    <h1 class="text-lg text-blue-600/100 pb-4">Give five books rating to let us  serve you better!</h1>
{% endif %}
</div>
<script>
    let carousel3 = document.getElementById('carousel3');
    let carousel3Width = carousel3.offsetWidth;
    let itemWidth3 = carousel3.children[0].offsetWidth;
    let numItems3 = carousel3.children.length;
    let currentIndex3 = 0;

    function scrollcarousel3(direction) {
        let newIndex = currentIndex3 + direction;
        if (newIndex < 0) {
            newIndex = 0;
        } else if (newIndex >= numItems3 - 4) {
            newIndex = numItems3 - 5;
        }
        carousel3.scrollLeft = newIndex * (itemWidth3 + 3);
        currentIndex3 = newIndex;
    }
</script>
